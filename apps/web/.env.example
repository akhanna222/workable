# ============================================================
# BuilderAI Platform - Complete Environment Configuration
# ============================================================
# Copy this file to .env.local and fill in your values
# For production, set these as environment variables in your hosting platform

# ===========================================
# CORE PLATFORM SETTINGS (Required)
# ===========================================

# Your application's public URL (used for OAuth callbacks, emails, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Platform branding
NEXT_PUBLIC_PLATFORM_NAME=BuilderAI
NEXT_PUBLIC_PLATFORM_LOGO_URL=

# Node environment (development, production, test)
NODE_ENV=development

# ===========================================
# SUPABASE CONFIGURATION (Required)
# ===========================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api

# Your Supabase project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Your Supabase anonymous/public key (safe to expose in browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# Your Supabase service role key (keep secret, server-side only)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===========================================
# AI CODE GENERATION (Required)
# ===========================================
# Get your API key from: https://console.anthropic.com/account/keys

ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here

# Model configuration (optional)
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=8192

# ===========================================
# CODE EXECUTION SANDBOX (Required for Live Preview)
# ===========================================
# Get your API key from: https://e2b.dev

E2B_API_KEY=your-e2b-key

# Sandbox timeout in seconds
E2B_SANDBOX_TIMEOUT=300

# ===========================================
# STRIPE BILLING (Required for Monetization)
# ===========================================
# Get your keys from: https://dashboard.stripe.com/apikeys

STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Stripe Webhook Secret (for handling subscription events)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs for subscription plans
STRIPE_PRICE_PRO_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_PRO_YEARLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_TEAM_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_TEAM_YEARLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_xxxxxxxxxxxxx

# ===========================================
# DEPLOYMENT INTEGRATIONS (Optional)
# ===========================================
# These are PLATFORM-level defaults. Users can override with their own tokens.

# Vercel - https://vercel.com/account/tokens
VERCEL_TOKEN=your-vercel-token
VERCEL_TEAM_ID=

# Netlify - https://app.netlify.com/user/applications#personal-access-tokens
NETLIFY_TOKEN=your-netlify-token

# ===========================================
# GITHUB INTEGRATION (Optional)
# ===========================================
# For GitHub OAuth: https://github.com/settings/developers

# OAuth App credentials (for "Login with GitHub")
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# GitHub App for better rate limits (optional)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=

# ===========================================
# OAUTH PROVIDERS (Optional)
# ===========================================

# Google OAuth - https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Discord OAuth (optional)
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# ===========================================
# EMAIL SERVICE (Required for Production)
# ===========================================
# Choose one: Resend, SendGrid, or Postmark

# Resend - https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxx

# SendGrid (alternative)
SENDGRID_API_KEY=

# Postmark (alternative)
POSTMARK_API_KEY=

# Email sender configuration
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=BuilderAI

# ===========================================
# ANALYTICS & MONITORING (Optional)
# ===========================================

# PostHog Analytics - https://posthog.com
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Sentry Error Tracking - https://sentry.io
SENTRY_DSN=
SENTRY_AUTH_TOKEN=

# LogRocket Session Replay (optional)
NEXT_PUBLIC_LOGROCKET_APP_ID=

# ===========================================
# STORAGE (Optional - defaults to Supabase Storage)
# ===========================================

# AWS S3 (if using instead of Supabase Storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1

# Cloudflare R2 (alternative)
CLOUDFLARE_R2_ACCESS_KEY=
CLOUDFLARE_R2_SECRET_KEY=
CLOUDFLARE_R2_BUCKET=
CLOUDFLARE_R2_ENDPOINT=

# ===========================================
# REDIS CACHE (Optional - for high traffic)
# ===========================================

REDIS_URL=redis://localhost:6379
REDIS_TOKEN=

# Upstash Redis (serverless alternative)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ===========================================
# RATE LIMITING & SECURITY
# ===========================================

# Rate limit for AI requests (requests per minute per user)
AI_RATE_LIMIT_FREE=5
AI_RATE_LIMIT_PRO=30
AI_RATE_LIMIT_TEAM=100

# JWT Secret for additional token signing (optional)
JWT_SECRET=your-super-secret-jwt-key

# ===========================================
# FEATURE FLAGS (Optional)
# ===========================================

# Enable/disable features
FEATURE_GITHUB_EXPORT=true
FEATURE_VERCEL_DEPLOY=true
FEATURE_NETLIFY_DEPLOY=true
FEATURE_COLLABORATION=true
FEATURE_BILLING=true
FEATURE_TEMPLATES=true

# Beta features
FEATURE_CUSTOM_DOMAINS=false
FEATURE_DATABASE_BUILDER=false
FEATURE_API_ACCESS=false

# ===========================================
# USER-CUSTOMIZABLE SETTINGS SCHEMA
# ===========================================
# These define what users can configure in their account settings.
# The platform stores these per-user in the user_settings table.

# Allow users to connect their own API keys
ALLOW_USER_ANTHROPIC_KEY=true
ALLOW_USER_OPENAI_KEY=true
ALLOW_USER_GITHUB_TOKEN=true
ALLOW_USER_VERCEL_TOKEN=true
ALLOW_USER_NETLIFY_TOKEN=true

# Default quotas (can be overridden by plan)
DEFAULT_PROJECTS_LIMIT=3
DEFAULT_AI_REQUESTS_LIMIT=50
DEFAULT_STORAGE_LIMIT_MB=1024
DEFAULT_COLLABORATORS_LIMIT=1

# ===========================================
# DEVELOPMENT ONLY
# ===========================================

# Enable demo mode (works without API keys)
DEMO_MODE=false

# Disable auth for local development
DISABLE_AUTH=false

# Enable debug logging
DEBUG=false
